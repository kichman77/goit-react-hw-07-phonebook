(this["webpackJsonpgoit-react-hw-02-phonebook"]=this["webpackJsonpgoit-react-hw-02-phonebook"]||[]).push([[0],{17:function(t,n,e){t.exports={form:"ContactForm_form__1fuOn",btn:"ContactForm_btn__2Bpnz"}},18:function(t,n,e){t.exports={wrapper:"Notification_wrapper__Uy_Qy",notif:"Notification_notif__1XW0G"}},19:function(t,n,e){t.exports={list:"ContactList_list__2T7aG"}},30:function(t,n,e){t.exports={input:"Filter_input__2DoVp"}},44:function(t,n,e){},64:function(t,n,e){},65:function(t,n,e){"use strict";e.r(n);var c=e(0),a=e.n(c),r=e(8),o=e.n(r),i=e(6),u=(e(44),e(10)),s=e(11),b=e(13),j=e(12),f=e(3),l=e(17),O=e.n(l),d=e(67),h=e(7),p=e.n(h),C=e(2),m=Object(C.b)("ADD_CONTACT_REQUEST"),_=Object(C.b)("ADD_CONTACT_SUCCESS"),g=Object(C.b)("ADD_CONTACT_ERROR"),x=Object(C.b)("DELETE_CONTACT_REQUEST"),T=Object(C.b)("DELETE_CONTACT_SUCCESS"),E=Object(C.b)("DELETE_CONTACT_ERROR"),S=Object(C.b)("GET_CONTACTS_REQUEST"),v=Object(C.b)("GET_CONTACTS_SUCCESS"),y=Object(C.b)("GET_CONTACTS_ERROR");p.a.defaults.baseURL="http://localhost:4040/";var N,A,D={addContact:function(t){return function(n){n(m()),p.a.post("contacts",t).then((function(t){return t.data})).then((function(t){return t=n(_(t))})).catch((function(t){return n(g(t))}))}},deleteContact:function(t){return function(n){n(x()),p.a.delete("contacts/".concat(t)).then((function(){return n(T(t))})).catch((function(t){return n(E(t))}))}},getContacts:function(){return function(t){t(S()),p.a.get("contacts").then((function(t){return t.data})).then((function(n){return t(v(n))})).catch((function(n){return t(y(n))}))}}},R=e(9),F=function(t){return t.contacts},w=function(t){return t.filter},L={getLoading:function(t){return t.loading},getContacts:F,getFilter:w,getFilteredContacts:Object(R.a)([F,w],(function(t,n){return t.filter((function(t){return t.name.toLowerCase().includes(n)}))})),getContactById:Object(R.a)([F,function(t,n){return n}],(function(t,n){return t.find((function(t){return t.id===n}))}))},k=e(18),U=e.n(k),G=e(1),Q=function(){return Object(G.jsx)(G.Fragment,{children:Object(G.jsx)("div",{className:U.a.wrapper,children:Object(G.jsx)("p",{className:U.a.notif,children:"Contact already exist"})})})},B=function(t){Object(b.a)(e,t);var n=Object(j.a)(e);function e(){var t;Object(u.a)(this,e);for(var c=arguments.length,a=new Array(c),r=0;r<c;r++)a[r]=arguments[r];return(t=n.call.apply(n,[this].concat(a))).state={name:"",phone:"",isExist:!1},t.handleChange=function(n){var e=n.target,c=e.name,a=e.value;t.setState(Object(f.a)({},c,a))},t.handleSubmit=function(n){n.preventDefault();var e=t.state,c=e.name,a=e.phone,r=t.props,o=r.contacts,i=r.addContact,u={id:Object(d.a)(),name:c,phone:a};if(o.find((function(t){return console.log(t.name),t.name===u.name})))return t.setState({isExist:!0}),void setTimeout((function(){return t.setState({isExist:!1})}),2e3);i(u),t.setState({name:"",phone:""})},t}return Object(s.a)(e,[{key:"render",value:function(){var t=this.state,n=t.name,e=t.phone,c=t.isExist,a=this.handleSubmit,r=this.handleChange;return Object(G.jsxs)(G.Fragment,{children:[c&&Object(G.jsx)(Q,{}),Object(G.jsxs)("form",{className:O.a.form,onSubmit:a,children:[Object(G.jsx)("input",{onChange:r,placeholder:"name",name:"name",type:"text",value:n,required:!0}),Object(G.jsx)("input",{onChange:r,placeholder:"phone number",name:"phone",type:"tel",value:e,required:!0}),Object(G.jsx)("button",{className:O.a.btn,type:"submit",children:"Add contact"})]})]})}}]),e}(c.Component),I={addContact:D.addContact},q=Object(i.b)((function(t){return{contacts:L.getContacts(t)}}),I)(B),J=e(19),M=e.n(J),z={handleDelete:D.deleteContact},V=Object(i.b)((function(t){return{showContacts:L.getFilteredContacts(t)}}),z)((function(t){var n=t.showContacts,e=t.handleDelete;return Object(G.jsx)(G.Fragment,{children:n&&Object(G.jsx)("ul",{className:M.a.list,children:n.map((function(t){return Object(G.jsxs)("li",{onClick:function(){e(t.id)},children:[t.name,Object(G.jsx)("span",{children:t.phone}),Object(G.jsx)("button",{className:M.a.btn,type:"button",children:"Delete"})]},t.id)}))})})})),W=e(30),X=e.n(W),H=Object(C.b)("FILTER_CONTACTS"),K={filterContact:H},P=Object(i.b)((function(t){return{filter:L.getFilter(t)}}),K)((function(t){var n=t.filterContact,e=t.filter;return Object(G.jsx)("input",{value:e,className:X.a.input,onChange:function(t){return n(t.target.value)},placeholder:"Find contacts by name",name:"filter",type:"text"})})),Y=(e(64),function(t){Object(b.a)(e,t);var n=Object(j.a)(e);function e(){return Object(u.a)(this,e),n.apply(this,arguments)}return Object(s.a)(e,[{key:"componentDidMount",value:function(){this.props.getContacts()}},{key:"render",value:function(){var t=this.props.isLoading;return Object(G.jsxs)(G.Fragment,{children:[t&&Object(G.jsx)("h1",{children:"\u041c\u044b \u0442\u043e\u0436\u0435 \u0445\u043e\u0442\u0438\u043c, \u0447\u0442\u043e\u0431\u044b \u0432\u0441\u0435 \u0431\u044b\u043b\u043e \u043b\u0435\u0433\u043a\u043e \u0438 \u043f\u0440\u043e\u0441\u0442\u043e!!! \u041d\u043e......"}),Object(G.jsx)(q,{}),Object(G.jsx)(P,{}),Object(G.jsx)(V,{})]})}}]),e}(c.Component)),Z={getContacts:D.getContacts},$=Object(i.b)((function(t){return{isLoading:L.getLoading(t)}}),Z)(Y),tt=e(31),nt=Object(C.c)([],(N={},Object(f.a)(N,_,(function(t,n){return[].concat(Object(tt.a)(t),[n.payload])})),Object(f.a)(N,T,(function(t,n){return t.filter((function(t){return t.id!==n.payload}))})),Object(f.a)(N,v,(function(t,n){return n.payload})),N)),et=Object(C.c)(!1,(A={},Object(f.a)(A,m,(function(){return!0})),Object(f.a)(A,_,(function(){return!1})),Object(f.a)(A,g,(function(){return!1})),Object(f.a)(A,x,(function(){return!0})),Object(f.a)(A,T,(function(){return!1})),Object(f.a)(A,E,(function(){return!1})),Object(f.a)(A,S,(function(){return!0})),Object(f.a)(A,v,(function(){return!1})),Object(f.a)(A,y,(function(){return!1})),A)),ct=Object(C.c)("",Object(f.a)({},H,(function(t,n){return n.payload}))),at=Object(C.a)({reducer:{contacts:nt,filter:ct,loading:et}});o.a.render(Object(G.jsx)(i.a,{store:at,children:Object(G.jsx)(a.a.StrictMode,{children:Object(G.jsx)($,{})})}),document.getElementById("root"))}},[[65,1,2]]]);
//# sourceMappingURL=main.8e55b80f.chunk.js.map